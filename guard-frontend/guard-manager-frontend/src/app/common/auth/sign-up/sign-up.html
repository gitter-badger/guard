<div class="authentication">
  <div class="sign-up">
    <div class="row no-mrg-horizon">
      <div class="col-md-4 no-pdd-horizon d-none d-md-block">
        <div class="vertical-align full-height pdd-horizon-70 bg" style="background-image: url('assets/images/others/img-31.jpg')">
          <div class="table-cell">
            <div class="row">
              <div class="mr-auto ml-auto col-md-10">
                <div class="text-center">
                  <img class="img-responsive mrg-left-auto mrg-btm-15" src="assets/images/logo/logo-white.png" alt="Guard" width="170">
                  <p class="text-white lead text-opacity lh-1-7">Create your account and go out to connect to apps through Guard !</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-8 bg-white no-pdd-horizon">
        <div class="row">
          <div class="col-md-12">
            <div class="full-height height-100">
              <div class="vertical-align full-height pdd-horizon-70">
                <div class="table-cell">
                  <div class="text-center">
                    <img class="rounded" src="assets/images/logo/logo-sm.png" alt="Guard">
                    <p>Create your Guard account</p>
                  </div>
                  <div class="pdd-horizon-15">
                    <div class="row">
                      <div class="col-md-12">
                        <div class="card">
                          <div class="card-block">
                            <div class="row relative">
                              <div class="col-md-10 ml-auto mr-auto">
                                <aw-wizard [navBarLayout]="'large-empty-symbols'" class="sign-up-wizard">
                                  <aw-wizard-step stepTitle="Basic info" [navigationSymbol]="{ symbol: '1' }">
                                    <form #basicInfoform="ngForm">
                                      <div class="form-group">
                                        <label class="text-normal text-dark">Given Name*</label>
                                        <input type="text" class="form-control" name="givenName" id="input-givenName"
                                               [(ngModel)]="user.givenName" #givenName="ngModel" required
                                               [class.touched-invalid]="givenName.touched && givenName.invalid"
                                               [class.touched-valid]="givenName.valid">
                                      </div>
                                      <div class="form-group">
                                        <label class="text-normal text-dark">Family Name*</label>
                                        <input type="text" class="form-control" id="input-familyName" name="familyName"
                                               [(ngModel)]="user.familyName" #familyName="ngModel" required
                                               [class.touched-invalid]="familyName.touched && familyName.invalid"
                                               [class.touched-valid]="familyName.valid">
                                      </div>
                                      <div class="form-group">
                                        <label class="text-normal text-dark">Email*</label>
                                        <input type="email" class="form-control" id="input-email" name="email"
                                               [(ngModel)]="user.email"  #email="ngModel" required
                                               [class.touched-invalid]="email.touched && email.invalid"
                                               [class.touched-valid]="email.valid">
                                      </div>
                                      <div class="form-group">
                                        <label class="text-normal text-dark">Password*</label>
                                        <input type="password" class="form-control" id="input-pwd" name="pwd"
                                               [(ngModel)]="user.pwd" #pwd="ngModel" required
                                               [class.touched-invalid]="pwd.touched && (pwd.invalid || pwdStrength < 1 )"
                                               [class.touched-valid]="pwd.valid">
                                        <password-strength-meter [enableFeedback]="true" [password]="user.pwd" (strengthChange)="setPwdStrength($event)"></password-strength-meter>
                                      </div>
                                      <div class="form-group">
                                        <label class="text-normal text-dark">Confirm Password*</label>
                                        <input type="password" class="form-control" id="input-confirmPwd"
                                               [(ngModel)]="user.confirmPwd" name="confirmPwd" #confirmPwd="ngModel"
                                               [class.touched-invalid]="confirmPwd.value != pwd.value"
                                               [class.touched-valid]="confirmPwd.dirty && (confirmPwd.value == pwd.value)" required>
                                      </div>
                                      <div class="form-group">
                                        <label class="text-normal text-dark">Address</label>
                                        <input type="text" class="form-control" id="input-address" name="address"  #address="ngModel"
                                               [(ngModel)]="user.address">
                                      </div>
                                      <div class="form-group">
                                        <label class="text-normal text-dark">Phone Number</label>
                                        <input type="text" class="form-control" id="input-phoneNumber" name="phoneNumber"  #phoneNumber="ngModel"
                                               [(ngModel)]="user.phoneNumber">
                                      </div>
                                      <div class="mrg-top-20">
                                        <button [disabled]="!basicInfoform.valid || pwdStrength < 1 || (user.pwd != user.confirmPwd)" class="btn btn-primary pull-right btn-rounded" awNextStep>Next</button>
                                      </div>
                                    </form>
                                  </aw-wizard-step>
                                  <aw-wizard-step stepTitle="Security Info" [navigationSymbol]="{ symbol: '2' }">
                                    <form #securityInfoForm="ngForm">
                                      <div class="form-group">
                                        <label for="secQuestion1">First security question</label>
                                        <select class="form-control"  id="secQuestion1"
                                                required
                                                #secQuestion1Key="ngModel"
                                                [class.touched-invalid]="((secQuestion1Key.touched || secQuestion1Key.dirty) && secQuestion1Key.invalid) || secQuestion1Key.value === secQuestion2Key.value "
                                                [class.touched-valid]="secQuestion1Key.valid"
                                                [(ngModel)]="secQuestion1.key" name="secQuestion1">
                                          <option *ngFor="let q of securityQuestions" [value]="getKey(q)">{{getValue(q)}}</option>
                                        </select>
                                        <label></label>
                                        <input type="text" class="form-control" id="input-secQuestion1" name="secQuestion1Resp" placeholder="Answer of first question"
                                               [(ngModel)]="secQuestion1.response" #secQuestion1Resp="ngModel" required
                                               [class.touched-invalid]="((secQuestion1Resp.touched || secQuestion1Resp.dirty) && secQuestion1Resp.invalid) || secQuestion1Key.value === secQuestion2Key.value"
                                               [class.touched-valid]="secQuestion1Resp.valid">
                                      </div>
                                      <div class="form-group">
                                        <label for="secQuestion2">Second security question</label>
                                        <select class="form-control"  id="secQuestion2"
                                                required
                                                #secQuestion2Key="ngModel"
                                                [class.touched-invalid]="((secQuestion2Key.touched || secQuestion2Key.dirty) && secQuestion2Key.invalid) || secQuestion1Key.value === secQuestion2Key.value"
                                                [class.touched-valid]="secQuestion2Key.valid"
                                                [(ngModel)]="secQuestion2.key" name="secQuestion2">
                                          <option *ngFor="let q of securityQuestions" [value]="getKey(q)">{{getValue(q)}}</option>
                                        </select>
                                        <label></label>
                                        <input type="text" class="form-control" id="input-secQuestion2" name="secQuestion2Resp" placeholder="Answer of second question"
                                               [(ngModel)]="secQuestion2.response" #secQuestion2Resp="ngModel" required
                                               [class.touched-invalid]="((secQuestion2Resp.touched || secQuestion2Resp.dirty) && secQuestion2Resp.invalid) || secQuestion1Key.value === secQuestion2Key.value"
                                               [class.touched-valid]="secQuestion2Resp.valid">
                                      </div>
                                      <div class="mrg-top-20">
                                        <button class="btn btn-default button-previous btn-rounded" awPreviousStep>Previous</button>
                                        <button [disabled]="!securityInfoForm.valid || secQuestion1Key.value === secQuestion2Key.value" class="btn btn-primary button-next pull-right btn-rounded" (click)="signUp()">Create account</button>
                                      </div>
                                    </form>
                                  </aw-wizard-step>
                                </aw-wizard>
                                <p>Already have an account? <a routerLink="/auth/sign-in">Sign In</a></p>
                                <hr>
                                <small>* required fields</small><br>
                                <small>By signing up you agree to out <a href="">Terms & Policy</a></small>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
